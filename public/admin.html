<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>問題管理画面 - MOS模擬試験</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="container">
        <h1>問題管理画面</h1>

        <!-- タブ切り替え -->
        <div class="tab-buttons">
            <button class="tab-button active" onclick="switchTab('table')">テーブル表示</button>
            <button class="tab-button" onclick="switchTab('csv')">CSV編集</button>
        </div>

        <!-- フィルター部分 -->
        <div class="filter-section">
            <label for="filterProject">プロジェクト:</label>
            <select id="filterProject" class="filter-select">
                <option value="1">Project 1</option>
                <option value="2">Project 2</option>
                <option value="3">Project 3</option>
                <option value="4">Project 4</option>
                <option value="5">Project 5</option>
            </select>
        </div>

        <!-- テーブル表示タブ -->
        <div id="tableTab" class="tab-content">
            <!-- 問題一覧テーブル -->
            <div class="question-table-container">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>問題文</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="questionTableBody">
                        <!-- JavaScriptで動的に生成 -->
                    </tbody>
                </table>
            </div>

            <!-- 新規追加/編集フォーム -->
            <div class="edit-form">
                <h2>問題の追加/編集</h2>
                <input type="hidden" id="editQuestionId">
                <textarea id="questionTextArea" rows="4" class="admin-textarea" 
                    placeholder="問題文を入力してください"></textarea>
                <div class="button-group">
                    <button onclick="saveQuestion()" class="admin-button">保存</button>
                    <button onclick="clearForm()" class="admin-button secondary">クリア</button>
                </div>
            </div>

            <!-- インポート/エクスポート -->
            <div class="import-export">
                <button onclick="exportToCSV()" class="admin-button">CSVエクスポート</button>
                <input type="file" id="csvImport" accept=".csv" style="display: none;">
                <button onclick="document.getElementById('csvImport').click()" 
                    class="admin-button">CSVインポート</button>
            </div>
        </div>

        <!-- CSV編集タブ -->
        <div id="csvTab" class="tab-content" style="display: none;">
            <div class="csv-controls">
                <button onclick="loadCSVToEditor()" class="admin-button">現在のデータを読み込む</button>
                <button onclick="saveCSVFromEditor()" class="admin-button">保存</button>
            </div>
            <div class="csv-table-container">
                <table class="csv-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>アプリ</th>
                            <th>試験</th>
                            <th>プロジェクト</th>
                            <th>問題文</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="csvTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script src="questions.js"></script>
    <script src="admin.js"></script>
</body>
</html> 